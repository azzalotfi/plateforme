{% extends 'base.html.twig' %}

{% block title %}ServicePro - Plateforme N°1 en Tunisie{% endblock %}

{% block stylesheets %}
    {{ parent() }}
   
    <link href="{{ asset('css/app.css') }}" rel="stylesheet">
{% endblock %}

{% block body %}
    {% include 'partials/header.html.twig' %}

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-left">
                    <div class="badge">
                        <span class="badge-icon">⭐</span>
                        <span>Plateforme N°1 en Tunisie</span>
                    </div>
                    <h1 class="hero-title">Trouvez le prestataire parfait</h1>
                    <p class="hero-description">Connectez-vous avec des professionnels qualifiés pour tous vos besoins</p>
                    <div class="hero-buttons">
                        <a href="{{ path('services') }}" class="btn btn-gradient">Trouver un service →</a>
                   <a href="{{ path('app_register') }}" class="signup-btn">Devenir prestataire</a>
                    </div>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-number">5000+</div>
                            <div class="stat-label">Utilisateurs actifs</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">10000+</div>
                            <div class="stat-label">Services complétés</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">4.9/5</div>
                            <div class="stat-label">Note moyenne</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">98%</div>
                            <div class="stat-label">Satisfaction client</div>
                        </div>
                    </div>
                </div>
                <div class="hero-right">
                    <div class="hero-image">
                        {# Image professionnelle - vous pouvez remplacer par votre propre image locale #}
                        <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" 
                             alt="Prestataires de services professionnels" 
                             class="hero-image-img"
                             loading="lazy">
                        {# Pour utiliser une image locale, décommentez la ligne ci-dessous et commentez celle du dessus #}
                        {# <img src="{{ asset('images/hero-image.jpg') }}" alt="Prestataires de services professionnels" class="hero-image-img"> #}
                        <div class="overlay-card">
                            <div class="overlay-icon">⭐</div>
                            <div>
                                <div class="overlay-rating">4.9/5</div>
                                <div class="overlay-text">1000+ avis vérifiés</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-choose-us">
        <div class="container">
            <div class="section-badge light-blue">
                <span class="badge-icon">✨</span>
                <span>Pourquoi nous choisir</span>
            </div>
            <h2 class="section-title">Pourquoi nous choisir</h2>
            <p class="section-description">Nous offrons une expérience unique pour connecter clients et prestataires de services professionnels</p>
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon green">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Prestataires vérifiés</h3>
                    <p class="feature-description">Tous nos prestataires sont vérifiés et évalués</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon purple">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Paiement sécurisé</h3>
                    <p class="feature-description">Système de points sécurisé et transparent</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon pink">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Support 24/7</h3>
                    <p class="feature-description">Notre équipe est toujours là pour vous aider</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services">
        <div class="container">
            <div class="services-header">
                <div>
                    <h2 class="section-title">Nos Services</h2>
                    <p class="section-description">Découvrez nos meilleurs professionnels</p>
                </div>
                <a href="{{ path('services') }}" class="btn btn-outline">Voir tous les services →</a>
            </div>
            <div class="services-grid-home">
                {% for service in services %}
                    <div class="service-card-full">
                        <div class="service-card-image-wrapper">
                            {% if service.image %}
                                <img src="{{ asset(service.image) }}" alt="{{ service.nomService }}" class="service-card-image" loading="lazy">
                            {% else %}
                                <img src="https://images.unsplash.com/photo-1557804506-669a67965ba0?w=800&q=80" alt="{{ service.nomService }}" class="service-card-image" loading="lazy">
                            {% endif %}
                            <span class="service-category-tag">{{ service.categorie ?? 'Service' }}</span>
                        </div>
                        <div class="service-card-content">
                            <h3 class="service-card-title">{{ service.nomService }}</h3>
                            <p class="service-card-description">{{ service.description }}</p>
                            <div class="service-card-rating">
                                <svg class="star-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                                <span class="rating-value">5.0</span>
                                <span class="provider-name">ServicePro</span>
                            </div>
                            <div class="service-card-footer">
                                <span class="service-price">
                                    {% if service.prix is not null %}
                                        À partir de {{ service.prix }} TND
                                    {% else %}
                                        Prix sur demande
                                    {% endif %}
                                </span>
                                <div class="d-flex gap-2 flex-nowrap">
                                    <a href="{{ path('app_service_show', {'id': service.id}) }}" class="btn btn-sm btn-outline-secondary">
                                        <i class="bi bi-eye"></i> Voir détails
                                    </a>
                                    {% if not app.user or (not service.prestataire or not service.prestataire.user or service.prestataire.user != app.user) %}
                                        <a href="{{ path('app_reservation_new', {'id': service.id}) }}" class="reserve-btn">Réserver</a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <p>Aucun service pour le moment. <a href="{{ path('services_new') }}">Ajoutez votre premier service</a>.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">Comment ça marche ?</h2>
            <p class="section-description">Trouvez le professionnel parfait en quelques clics</p>
            <div class="steps">
                <div class="step">
                    <div class="step-number step-purple">1</div>
                    <h3 class="step-title">Parcourez les services</h3>
                    <p class="step-description">Explorez notre catalogue de professionnels qualifiés dans différents domaines</p>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-number step-magenta">2</div>
                    <h3 class="step-title">Réservez en ligne</h3>
                    <p class="step-description">Choisissez votre prestataire et réservez directement sur la plateforme</p>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-number step-pink">3</div>
                    <h3 class="step-title">Profitez du service</h3>
                    <p class="step-description">Recevez votre service et laissez votre avis pour aider la communauté</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <h2 class="cta-title">Prêt à trouver le service parfait ?</h2>
            <p class="cta-description">Rejoignez des milliers d'utilisateurs satisfaits et trouvez le professionnel qu'il vous faut en quelques clics</p>
          <a href="{{ path('app_register') }}" class="signup-btn">Commencer maintenant →</a>
        </div>
    </section>

    {% include 'partials/footer.html.twig' %}

{% endblock %}
